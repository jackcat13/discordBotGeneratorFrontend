<app-spinner *ngIf="isLoading"></app-spinner>

<app-user-details></app-user-details>

<div class="largeWrapper" [ngStyle]="{'opacity': isLoading == true ? '0.5' : '' }">
    <div id="botsForm" class="normalBox">
        <h2>My bots</h2>
        <div class="bots">
            <table>
                <tr *ngFor="let bot of bots" [class.selected]="bot === selectedBot" tabindex="0">
                    <td (click)="onSelect(bot)">{{bot.id}}:</td>
                    <td (click)="onSelect(bot)">{{bot.description}}</td>
                    <td><button class="button" (click)="deleteBot(bot)">Delete</button></td>
                </tr>
            </table>
            <div id="createBotForm">
                <div class="createBotEntry">
                    <label for="botId">Id: </label>
                    <input id="botId" type="text" [formControl]="botId">
                </div>
                <div class="createBotEntry">
                    <label for="botDescription">Description: </label>
                    <input id="botDescription" type="text" [formControl]="botDescription">
                </div>
                <button class="button" (click)="createBot()">Create bot</button>
            </div>
        </div>
    </div>

    <div id="botConfiguration" class="normalBox" *ngIf="isConfiguring">
        <div id="botCommands">

            <h2>Token</h2>
            <table>
                <tr>
                    <td><input type="text" [formControl]="token"></td>
                </tr>
            </table>

            <h2>Commands</h2>
            <table>
                <tr>
                    <td><input type="text" [formControl]="sondage"></td>
                </tr>
                <tr>
                    <td><input type="text" [formControl]="help"></td>
                </tr>
                <tr>
                    <td><input type="text" [formControl]="mp"></td>
                </tr>
                <tr>
                    <td><input type="text" [formControl]="mute"></td>
                </tr>
                <tr>
                    <td><input type="text" [formControl]="unmute"></td>
                </tr>
            </table>

            <h2>Channels</h2>
            <table>
                <tr>
                    <td><input type="text" [formControl]="messagesChannel"></td>
                </tr>
                <tr>
                    <td><input type="text" [formControl]="welcomeChannel"></td>
                </tr>
                <tr>
                    <td><input type="text" [formControl]="logsChannel"></td>
                </tr>
            </table>

            <h2>Messages</h2>
            <table>
                <tr>
                    <td><input type="text" [formControl]="rulesMessages"></td>
                </tr>
            </table>

            <h2>Roles</h2>
            <table>
                <tr>
                    <td><input type="text" [formControl]="activeRole"></td>
                </tr>
                <tr>
                    <td><input type="text" [formControl]="muteRole"></td>
                </tr>
                <tr>
                    <td><input type="text" [formControl]="adminRole"></td>
                </tr>
            </table>

            <div>
                <button class="button" (click)="configureBot()">Configure bot</button>
                <button *ngIf="!isBotStarted" class="button" (click)="startBot()">Start bot</button>
            </div>

            <div *ngIf="isBotStarted">Bot started</div>
        </div>
    </div>
</div>
